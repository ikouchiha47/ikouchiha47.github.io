<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
     - iko&#39;s logs
    
  </title>

  <meta name="description" content="Binary Search">
  <meta property="og:description" content="Binary Search">
  <meta property="og:type" content="website">
  <meta property="og:title" content="">
  <meta property="og:url" content="https://ikouchiha47.github.io/2024/04/20/interview_overview.html">

  
    <meta property="og:image" content="https://ikouchiha47.github.io"/>
  

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/>

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://ikouchiha47.github.io/2024/04/20/interview_overview.html">
  <link rel="alternate" type="application/rss+xml" title="iko&#39;s logs" href="/feed.xml">

  <meta name="google-site-verification" content="lWkg6gIxJgzEKX_5XnhcxCtPE9QknaimFWWos_dTvPM" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inconsolata:wght@200..900&family=Jersey+25&family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Merriweather+Sans:ital,wght@0,300..800;1,300..800&family=Nanum+Gothic+Coding&family=Space+Grotesk:wght@300..700&family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">

</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">iko&#39;s logs</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->

<header class="masthead" style="background-image: url('')">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1></h1>
          
          <h2 class="subheading"></h2>
          
          <span class="meta">Posted by
            <a href="#">ikouchiha47</a>
            on April 20, 2024 &middot; <span class="reading-time" title="Estimated read time">
  
   20 mins  read </span>

          </span>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container space-grotesk">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

      <h1 id="binary-search">Binary Search</h1>

<h2 id="base-algo">Base Algo</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">lo</span><span class="p">,</span> <span class="nx">hi</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span>

<span class="k">while</span><span class="p">(</span><span class="nx">lo</span> <span class="o">&lt;</span> <span class="nx">hi</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lo</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">hi</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">mid</span>
  <span class="p">}</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">target</span> <span class="o">&gt;</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="nx">hi</span> <span class="o">=</span> <span class="nx">mid</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">lo</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
<span class="p">}</span>

<span class="c1">// recurssion</span>

<span class="nf">bs</span><span class="p">(</span><span class="nx">nums</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nf">f</span><span class="p">(</span><span class="nx">lo</span><span class="p">,</span> <span class="nx">hi</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">lo</span> <span class="o">&lt;</span> <span class="nx">hi</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="kd">let</span> <span class="nx">mid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lo</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">hi</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">target</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">])</span> <span class="k">return</span> <span class="nx">mid</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">target</span> <span class="o">&gt;</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">])</span> <span class="k">return</span> <span class="nf">f</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">hi</span><span class="p">)</span>
    <span class="k">return</span> <span class="nf">f</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">lo</span><span class="p">,</span> <span class="nx">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="bisect-leftright">Bisect Left/Right</h2>

<p>The idea is to keep moving, as long as <code class="language-plaintext highlighter-rouge">target</code> <code class="language-plaintext highlighter-rouge">&lt;= or &gt;=</code>  nums[mid]</p>

<p><em>Bisect Left</em>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span><span class="p">(</span><span class="nx">lo</span> <span class="o">&lt;</span> <span class="nx">hi</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">lo</span> <span class="o">+</span> <span class="nx">hi</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// use the previous one for prevent overflow but cooler</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">target</span> <span class="o">&lt;=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="nx">hi</span> <span class="o">=</span> <span class="nx">mid</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">lo</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em>Bisect Right</em>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span><span class="p">(</span><span class="nx">lo</span> <span class="o">&lt;</span> <span class="nx">hi</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">hi</span> <span class="o">+</span> <span class="nx">lo</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span> <span class="c1">// you could also do, lo + (hi - lo)/2</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">target</span> <span class="o">&gt;=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">])</span> <span class="p">{</span>
    <span class="nx">lo</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">hi</span> <span class="o">=</span> <span class="nx">mid</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>_Key takeaway, lo &lt; hi, hi = mid, lo = mid + 1, this pattern never changes.</p>

<h2 id="minimum-of-maximum">Minimum of Maximum</h2>

<p>While distributing N items amongst Y boxes(or people or whatevs),
find the maximum or minimum for each Y.</p>

<p>The core idea is to assume a possibleMax or possibleMin as nums[mid] and adjust the mid based on criteria.</p>

<blockquote>
  <p>Using floor or ceil in the mid point calculation depends on the reality of the scenario.</p>
</blockquote>

<ul>
  <li>Assume we want to distribute d items to each of Y boxes</li>
  <li>Calculate the sum of items required, as sum(y/d for y in Y)</li>
  <li>Check if it matches the given target, if not adjust the window</li>
</ul>

<p><em>Base Template</em>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">let</span> <span class="p">[</span><span class="nx">minItems</span><span class="p">,</span> <span class="nx">maxItems</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(...</span><span class="nx">items</span><span class="p">)]</span>

<span class="c1">// Each box receives (y = ) possibleItemsCount number of items</span>
<span class="c1">// total number of boxes is X/y , where X is number of boxes available</span>
<span class="kd">let</span> <span class="nx">possibleTotalBoxes</span> <span class="o">=</span> <span class="p">(</span><span class="nx">possibleItemsCount</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">items</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">X</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nx">X</span><span class="o">/</span><span class="nx">possibleItemsCount</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

<span class="k">while</span><span class="p">(</span><span class="nx">minItems</span> <span class="o">&lt;</span> <span class="nx">maxItems</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">possibleItemsCount</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">((</span><span class="nx">maxItems</span> <span class="o">+</span> <span class="nx">minItems</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

  <span class="k">if</span><span class="p">(</span><span class="nf">possibleTotalBoxes</span><span class="p">(</span><span class="nx">possibleItemsCount</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">N</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">minItems</span> <span class="o">=</span> <span class="nx">possibleItemsCount</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">maxItem</span> <span class="o">=</span> <span class="nx">possibleItemsCount</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em>Minimize max items to put in store</em>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">let</span> <span class="p">[</span><span class="nx">minItems</span><span class="p">,</span> <span class="nx">maxItems</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(...</span><span class="nx">quantities</span><span class="p">)]</span>
  <span class="kd">const</span> <span class="nx">totalShopsReqr</span> <span class="o">=</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">quantities</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">X</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">ceil</span><span class="p">(</span><span class="nx">X</span> <span class="o">/</span> <span class="nx">y</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

  <span class="k">while </span><span class="p">(</span><span class="nx">minItems</span> <span class="o">&lt;</span> <span class="nx">maxItems</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// floor because, if we use ceil(11/3) it would mean we need to have 12 items</span>
    <span class="c1">// otherwise 2 stores get 4 each, and one gets 3. </span>
    <span class="c1">// the question requires us to minimize max number of product</span>

    <span class="kd">let</span> <span class="nx">possibleMaxPerShop</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">((</span><span class="nx">minItems</span> <span class="o">+</span> <span class="nx">maxItems</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1">// we want to minimize the sum, to we need to keep looking</span>
    <span class="c1">// to see if there is a smaller value, like bisec_left</span>
    <span class="k">if </span><span class="p">(</span><span class="nf">totalShopsReqr</span><span class="p">(</span><span class="nx">possibleMaxPerShop</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">minItems</span> <span class="o">=</span> <span class="nx">possibleMaxPerShop</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">maxItems</span> <span class="o">=</span> <span class="nx">possibleMaxPerShop</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">minItems</span><span class="p">;</span>
</code></pre></div></div>

<p>*Maximum Candies:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">minCandi</span><span class="p">,</span> <span class="nx">maxCandi</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(...</span><span class="nx">candies</span><span class="p">)];</span>
    <span class="kd">let</span> <span class="nx">totalStudents</span> <span class="o">=</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">candies</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">X</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nx">X</span><span class="o">/</span><span class="nx">y</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">while</span><span class="p">(</span><span class="nx">minCandi</span> <span class="o">&lt;</span> <span class="nx">maxCandi</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// we want to maximize the candy distribuion, so</span>
        <span class="c1">// for floor(11/3) we get only 3 candies per student, but we can do better</span>
        <span class="c1">// 2 can get 4 candies, and 1 can get 3, exhausting all 11</span>
        <span class="kd">let</span> <span class="nx">possibleMax</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">ceil</span><span class="p">((</span><span class="nx">maxCandi</span> <span class="o">+</span> <span class="nx">minCandi</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>

        <span class="c1">// if the total number of students possible is equal to k</span>
        <span class="c1">// we can consider it as a viable solution unless something greater comes up</span>
        <span class="c1">// if we had to minimize it, we would have to move the max candies to the left</span>
        <span class="c1">// so explore lower values</span>
        <span class="k">if</span><span class="p">(</span><span class="nf">totalStudents</span><span class="p">(</span><span class="nx">possibleMax</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nx">k</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">minCandi</span> <span class="o">=</span> <span class="nx">possibleMax</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">maxCandi</span> <span class="o">=</span> <span class="nx">possibleMax</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<h1 id="prefix-sum">Prefix Sum</h1>

<p>The base idea is to solve for range queries on sub-arrays of the array. It comes as an optimization
in places, where calculating cumulative result needs a re-iteration, starting or ending from the present index.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">sumFromHere</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sumFromHere</span> <span class="o">+=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// or</span>
<span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&gt;=</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">j</span><span class="o">--</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>With prefix sum, keep a track of the sum upto that point.
So the sum between two points becomes: <code class="language-plaintext highlighter-rouge">prefix[i] - prefix[j]</code></p>

<p><em>Total number of subarray Sum Equals K</em></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="nx">acc</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">v</span><span class="p">),</span> <span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">// rest of the problem reduces to two sum.</span>
<span class="c1">// except we keep track of count</span>

<span class="kd">let</span> <span class="nx">diffcountMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Map</span><span class="p">(),</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// for a difference of 0, we have 1 subarray</span>
<span class="c1">// this handles negative numbers, like arr = [6, 1, 2, -8]</span>
<span class="nx">diffcountMap</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>


<span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">prefix</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">diff</span> <span class="o">=</span> <span class="nx">prefix</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">-</span> <span class="nx">K</span>
  
  <span class="kd">let</span> <span class="nx">countTillDiff</span> <span class="o">=</span> <span class="nx">diffcounMap</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">diff</span><span class="p">)</span> <span class="o">||</span> <span class="mi">0</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">diffcountMap</span><span class="p">.</span><span class="nf">has</span><span class="p">(</span><span class="nx">diff</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">count</span> <span class="o">+=</span> <span class="nx">countTillDiff</span>
  <span class="p">}</span>

  <span class="c1">// at this point, we need to keep track of the</span>
  <span class="c1">// present count, for the seen value. </span>
  <span class="c1">// if any diff reaches here, it remembers the previous count upto</span>
  <span class="c1">// that prefix sum</span>
  <span class="nx">diffcountMap</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="nx">prefix</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">countTillDiff</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nx">count</span><span class="p">;</span>
</code></pre></div></div>

<p><em>Kadane’s Maximum Subarray Sum</em></p>

<p>This is a variation of the prefix sum, where we can discard the
previous running sum, because it no longer contributes to the 
maximum.
While keeping track of the previous maximum</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">runningSum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">presentMax</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">maximumSum</span> <span class="o">=</span> <span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="kc">Infinity</span>

<span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">runningSum</span> <span class="o">+=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>

  <span class="nx">maximumSum</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="nx">maximumSum</span><span class="p">,</span> <span class="nx">runningSum</span><span class="p">)</span>

  <span class="c1">// once the sum goes negative it no longer</span>
  <span class="c1">// could contribute to the maximum sum</span>
  <span class="nx">runningSum</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">runningSum</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em>Trapping rain water</em></p>

<p>For trapping rain water, we need a left pillar, a right pillar, and (optionally) a dip. 
In such a case, at a givn position <code class="language-plaintext highlighter-rouge">i</code> the amount of water trapped would b:</p>

<p><code class="language-plaintext highlighter-rouge">min(height[leftPillar], height[rightPillar]) - height[i]</code>.</p>

<p>The catch however, is, the leftPillar doesn’t need to be the immediate left. Which is where the prefix max comes in.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">leftMax</span> <span class="o">=</span> <span class="nx">heights</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">acc</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="nx">acc</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="nx">v</span><span class="p">))</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">heights</span><span class="p">[</span><span class="mi">0</span><span class="p">]]).</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="kd">let</span> <span class="nx">rightMax</span> <span class="o">=</span> <span class="nx">heights</span><span class="p">.</span><span class="nf">reduceRight</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">acc</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="nx">acc</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="nx">v</span><span class="p">))</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">heights</span><span class="p">[</span><span class="mi">0</span><span class="p">]]).</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>


<span class="kd">let</span> <span class="nx">totalWater</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">trapped</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="nx">leftMax</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">rightMax</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">-</span> <span class="nx">v</span>
  <span class="k">return</span> <span class="nx">acc</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">trapped</span><span class="p">))</span>
<span class="p">},</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="interval-problems">Interval Problems</h1>

<p>The premise is given an array of intervals, we need to check if another interval
would fit in. Or finding an overlap for a given set of intervals.</p>

<p>Two key points:</p>
<ul>
  <li>check the opposite ends</li>
  <li>if there are too many conditions for overlap, think in terms of negation</li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Partial Overlaps

[  a-----b  ]
       [ c-----d ]


Partial Overlaps

     [  a-----b  ]
[  c-----d  ]


Matches end to end

[  a-----b  ]
[  c-----d  ]

Inside the lap

[  a--------b  ]
[    c----d    ]
</code></pre></div></div>

<p>Once we have so many conditions, its time to consider <code class="language-plaintext highlighter-rouge">negation</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>What doesn't overlap

Ends before

        [  a-----b  ]
[ c--d ]

Starts After

[  a---b  ]
           [ c---d ]
</code></pre></div></div>

<h3 id="finding-overlaps">Finding overlaps</h3>

<p>The condition would be:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">has_overlaps</span><span class="p">(</span><span class="n">currInterval</span><span class="p">,</span> <span class="n">newInterval</span><span class="p">):</span>
  <span class="n">startInclusive</span> <span class="o">=</span> <span class="n">newInterval</span><span class="p">.</span><span class="n">start</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">currInterval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">currInterval</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">endInclusive</span> <span class="o">=</span> <span class="n">newInterval</span><span class="p">.</span><span class="n">end</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">currInterval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">currInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">startInclusive</span> <span class="ow">or</span> <span class="n">endInclusive</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">in_range</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">point</span> <span class="o">&gt;=</span> <span class="nx">left</span> <span class="o">&amp;&amp;</span> <span class="nx">point</span> <span class="o">&lt;=</span> <span class="nx">right</span>

<span class="kd">function</span> <span class="nf">hasOverlap</span><span class="p">(</span><span class="nx">currInterval</span><span class="p">,</span> <span class="nx">newInterval</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">startInclusive</span> <span class="o">=</span> <span class="nf">in_range</span><span class="p">(</span><span class="nx">newInterval</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span> <span class="nx">currInterval</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span> <span class="nx">currInterval</span><span class="p">.</span><span class="nx">end</span><span class="p">)</span>
  <span class="nx">endInclusice</span> <span class="o">=</span> <span class="nf">in_range</span><span class="p">(</span><span class="nx">newInterval</span><span class="p">.</span><span class="nx">end</span><span class="p">,</span> <span class="nx">currInterval</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span> <span class="nx">currInterval</span><span class="p">.</span><span class="nx">end</span><span class="p">)</span>

  <span class="k">return</span> <span class="nx">startInclusive</span> <span class="o">||</span> <span class="nx">endInclusive</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em>Check Overlap Possible</em></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">intervals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">21</span><span class="p">]]</span>
<span class="kd">let</span> <span class="nx">t1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="nx">t2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>

<span class="kd">const</span> <span class="nx">hasOverlap</span> <span class="o">=</span> <span class="p">(</span><span class="nx">intervals</span><span class="p">,</span> <span class="nx">newInterval</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">interval</span> <span class="k">of</span> <span class="nx">intervals</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nf">in_range</span><span class="p">(</span><span class="nx">newInterval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">...</span><span class="nx">interval</span><span class="p">)</span> <span class="o">||</span> <span class="nf">in_range</span><span class="p">(</span><span class="nx">newInterval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">...</span><span class="nx">interval</span><span class="p">))</span>
      <span class="k">return</span> <span class="kc">true</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em>Merge Intervals</em></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">sortedIntervals</span> <span class="o">=</span> <span class="nx">intervals</span><span class="p">.</span><span class="nf">toSorted</span><span class="p">((</span><span class="nx">p</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="nx">n</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1">// now that everything is sorted by start times,</span>
<span class="c1">// all we need is to traverse the number line</span>
<span class="c1">// It would start to look like prefix-xy</span>

<span class="kd">let</span> <span class="nx">answer</span> <span class="o">=</span> <span class="p">[</span><span class="nx">sortedIntervals</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

<span class="c1">// To check</span>
<span class="c1">// |---| (lastL, lastR)</span>
<span class="c1">//      |---|(currL, currR)</span>
<span class="c1">// </span>
<span class="c1">// Converting to number line</span>
<span class="c1">// | --- | | --- |</span>
<span class="c1">// 0     2 3     5</span>
<span class="c1">// so lastR &lt; currL : its a New Interval</span>
<span class="c1">// otherwise, we want the max of lastR and currR</span>
<span class="c1">// because we want to take the max of merge and its not sorted</span>

<span class="nx">sortedIntervals</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">interval</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="p">[</span><span class="nx">lastL</span><span class="p">,</span> <span class="nx">lastR</span><span class="p">]</span> <span class="o">=</span> <span class="nx">acc</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
  <span class="kd">let</span> <span class="p">[</span><span class="nx">currL</span><span class="p">,</span> <span class="nx">currR</span><span class="p">]</span> <span class="o">=</span> <span class="nx">interval</span><span class="p">;</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">lastR</span> <span class="o">&lt;</span> <span class="nx">currL</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">acc</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">interval</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">acc</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="nx">lastR</span><span class="p">,</span> <span class="nx">currR</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>

<span class="p">},</span> <span class="nx">answer</span><span class="p">)</span>
</code></pre></div></div>


      <hr>
      <div class="row mb-5 mt-5">
  <div class="col-md-6 d-flex align-items-end ">
    <span>Thanks. <i>mind sharing?</i></span>
  </div>

  <!-- Right Column with Social Media Icons (on the right for larger screens, on bottom for smaller screens) -->
  <div class="col-md-6 order-md-2 order-1 text-md-right text-center mt-3 mt-md-0">
    <div>

      <a
          href="https://www.linkedin.com/sharing/share-offsite?url=ikouchiha47.github.io/2024/04/20/interview_overview.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2"
       >
        <span class="fa-stack fa-lg" style="color: #0077b5;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="https://twitter.com/intent/tweet?text=&url=ikouchiha47.github.io/2024/04/20/interview_overview.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #1DA1F2;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="http://www.reddit.com/submit?url=ikouchiha47.github.io/2024/04/20/interview_overview.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #FF4500;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-reddit fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </div>
  </div>
</div>

<hr/>


      <div class="clearfix">

        
        <a class="btn btn-primary float-left" href="/2024/04/20/file-storage-system-design.html" data-toggle="tooltip" data-placement="top" title="Arbok">&larr; Previous<span class="d-none d-md-inline">
            Post</span></a>
        
        
        <a class="btn btn-primary float-right" href="/2024/07/10/building-a-storage-engine.html" data-toggle="tooltip" data-placement="top" title="beetledb">Next<span class="d-none d-md-inline">
            Post</span> &rarr;</a>
        

      </div>

    </div>
  </div>
</div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:amitava.dev@proton.me" class="text-gray">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          <li class="list-inline-item">
            <a href="https://www.linkedin.com/in/amitavaag" class="text-gray">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://github.com/ikouchiha47" class="text-gray">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
        </ul>

        <p class="copyright text-muted">
          Build with: 
          <a 
            href="https://github.com/StartBootstrap/startbootstrap-clean-blog-jekyll"
            class="text-gray"
            target="_blank">startbootstrap-clean-blog-jekyll</a></p>
      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  

</body>

</html>
